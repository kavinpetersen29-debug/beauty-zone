<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="AI Beautician Website for skin tone detection and beauty tips">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beauty Zone ðŸ’„âœ¨</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #fff0f5; padding: 50px; }
    input, button { margin: 10px 0; padding: 10px; font-size: 16px; }
    img { max-width: 250px; border:1px solid #ccc; padding:5px; border-radius:10px; }
    #suggestion { font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Welcome to Beauty Zone ðŸ’„âœ¨</h1>
  <p>Upload your photo to get AI beauty tips:</p>

  <input type="file" id="photoInput" accept="image/*">
  <br>
  <img id="preview" src="" alt="Your Photo" style="display:none;">
  <div id="suggestion">Upload a photo to get your suggestion!</div>
  <br>
  <button id="voiceBtn">Hear Suggestion</button>

  <script>
    const photoInput = document.getElementById('photoInput');
    const preview = document.getElementById('preview');
    const suggestion = document.getElementById('suggestion');
    const voiceBtn = document.getElementById('voiceBtn');

    let currentMessage = "Upload a photo to get your suggestion!";

    const tips = {
      "Fair": {lipstick: "Rose Pink", skincare: "Sunscreen SPF30+"},
      "Wheatish": {lipstick: "Coral", skincare: "Hydrating cream"},
      "Dusky": {lipstick: "Berry", skincare: "Aloe Vera gel"},
      "Dark": {lipstick: "Maroon", skincare: "Brightening serum"}
    };

    photoInput.addEventListener('change', function() {
      const file = this.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        preview.src = e.target.result;
        preview.style.display = 'block';

        const img = new Image();
        img.src = e.target.result;
        img.onload = function() {
          const canvas = document.createElement('canvas');
          canvas.width = img.width;
          canvas.height = img.height;
          const ctx = canvas.getContext('2d');
          ctx.drawImage(img, 0, 0);

          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
          let rTotal=0, gTotal=0, bTotal=0, count=0;

          for (let i = 0; i < imageData.length; i += 4*50) {
            rTotal += imageData[i];
            gTotal += imageData[i+1];
            bTotal += imageData[i+2];
            count++;
          }

          const rAvg = rTotal/count;
          const gAvg = gTotal/count;
          const bAvg = bTotal/count;

          let tone = "";
          if(rAvg>200 && gAvg>180) tone = "Fair";
          else if(rAvg>170 && gAvg>140) tone = "Wheatish";
          else if(rAvg>120 && gAvg>90) tone = "Dusky";
          else tone = "Dark";

          currentMessage = `Your skin tone is: ${tone}. Recommended lipstick: ${tips[tone].lipstick}, Skincare tip: ${tips[tone].skincare}`;
          suggestion.textContent = currentMessage;
        }
      }
      reader.readAsDataURL(file);
    });

    voiceBtn.addEventListener('click', function() {
      const msg = new SpeechSynthesisUtterance(currentMessage);
      window.speechSynthesis.speak(msg);
    });
  </script>
</body>
</html>
